!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t){e.exports=window.wp.element},function(e,t,n){e.exports=n(12)()},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.React},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var i=function(){return"undefined"!=typeof window?window:e},r=function(){var e=i();return e&&e.tinymce?e.tinymce:null}}).call(this,n(14))},function(e,t){e.exports=window.wp.primitives},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.wp.serverSideRender},function(e,t){e.exports=window.wp.compose},function(e,t){e.exports=window.wp.data},function(e,t,n){"use strict";var i=n(13);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,l){if(l!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var i=n(8),r=n(0),o=n(3),l=n(2),a=n(9),c=n.n(a),s=n(4);const u=({label:e,onSelect:t,onRemove:n,value:i})=>Object(r.createElement)(o.MediaUploadCheck,null,Object(r.createElement)(o.MediaUpload,{onSelect:e=>{console.log(e),t({id:e.id,sizes:e.sizes,url:e.url,alt:e.alt,title:e.title,description:e.description,caption:e.caption})},allowedTypes:["image"],value:i,render:({open:t})=>Object(r.createElement)(l.BaseControl,null,Object(r.createElement)(l.BaseControl,{label:e}),i&&i.url?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("img",{onClick:t,src:i.url,style:{width:"150px",height:"150px",objectFit:"cover",marginRight:"10px",background:"white"}}),Object(r.createElement)(l.Button,{onClick:n,isSecondary:!0},Object(s.__)("Remove image"))):Object(r.createElement)(l.Button,{onClick:t,isPrimary:!0},Object(s.__)("Open Media Library")))}));var d,p,f=n(10),b=n(5),m=n(1),h=function(){return(h=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},v={onActivate:m.func,onAddUndo:m.func,onBeforeAddUndo:m.func,onBeforeExecCommand:m.func,onBeforeGetContent:m.func,onBeforeRenderUI:m.func,onBeforeSetContent:m.func,onBeforePaste:m.func,onBlur:m.func,onChange:m.func,onClearUndos:m.func,onClick:m.func,onContextMenu:m.func,onCopy:m.func,onCut:m.func,onDblclick:m.func,onDeactivate:m.func,onDirty:m.func,onDrag:m.func,onDragDrop:m.func,onDragEnd:m.func,onDragGesture:m.func,onDragOver:m.func,onDrop:m.func,onExecCommand:m.func,onFocus:m.func,onFocusIn:m.func,onFocusOut:m.func,onGetContent:m.func,onHide:m.func,onInit:m.func,onKeyDown:m.func,onKeyPress:m.func,onKeyUp:m.func,onLoadContent:m.func,onMouseDown:m.func,onMouseEnter:m.func,onMouseLeave:m.func,onMouseMove:m.func,onMouseOut:m.func,onMouseOver:m.func,onMouseUp:m.func,onNodeChange:m.func,onObjectResizeStart:m.func,onObjectResized:m.func,onObjectSelected:m.func,onPaste:m.func,onPostProcess:m.func,onPostRender:m.func,onPreProcess:m.func,onProgressState:m.func,onRedo:m.func,onRemove:m.func,onReset:m.func,onSaveContent:m.func,onSelectionChange:m.func,onSetAttrib:m.func,onSetContent:m.func,onShow:m.func,onSubmit:m.func,onUndo:m.func,onVisualAid:m.func},g=h({apiKey:m.string,id:m.string,inline:m.bool,init:m.object,initialValue:m.string,onEditorChange:m.func,outputFormat:m.oneOf(["html","text"]),value:m.string,tagName:m.string,cloudChannel:m.string,plugins:m.oneOfType([m.string,m.array]),toolbar:m.oneOfType([m.string,m.array]),disabled:m.bool,textareaName:m.string,tinymceScriptSrc:m.string,scriptLoading:m.shape({async:m.bool,defer:m.bool,delay:m.number})},v),y=function(e){return"function"==typeof e},O=function(e){return e in v},j=function(e){return e.substr(2)},E=function(e,t,n,i,r){return function(t,n,i,r,o,l,a){var c=Object.keys(o).filter(O),s=Object.keys(l).filter(O),u=c.filter((function(e){return void 0===l[e]})),d=s.filter((function(e){return void 0===o[e]}));u.forEach((function(e){var t=j(e),n=a[t];i(t,n),delete a[t]})),d.forEach((function(i){var r=function(t,n){return function(i){var r;return null===(r=t(n))||void 0===r?void 0:r(i,e)}}(t,i),o=j(i);a[o]=r,n(o,r)}))}(r,e.on.bind(e),e.off.bind(e),0,t,n,i)},C=0,w=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++C+String(t)},k=function(e){return null!==e&&("textarea"===e.tagName.toLowerCase()||"input"===e.tagName.toLowerCase())},B=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},_=function(){return{listeners:[],scriptId:w("tiny-script"),scriptLoading:!1,scriptLoaded:!1}},x=(d=_(),{load:function(e,t,n,i,r,o){var l=function(){return function(e,t,n,i,r,o){var l=t.createElement("script");l.referrerPolicy="origin",l.type="application/javascript",l.id=e,l.src=n,l.async=i,l.defer=r;var a=function(){l.removeEventListener("load",a),d.listeners.forEach((function(e){return e()})),d.scriptLoaded=!0};l.addEventListener("load",a),t.head&&t.head.appendChild(l)}(d.scriptId,e,t,n,i)};d.scriptLoaded?o():(d.listeners.push(o),d.scriptLoading||(d.scriptLoading=!0,r>0?setTimeout(l,r):l()))},reinitialize:function(){d=_()}}),S=n(6),P=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),T=function(){return(T=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},I=function(){var e,t,n;return(null===(n=null===(t=null===(e=Object(S.a)())||void 0===e?void 0:e.Env)||void 0===t?void 0:t.browser)||void 0===n?void 0:n.isIE())?"change keyup compositionend setcontent":"change input compositionend setcontent"},N=function(){return window.InputEvent&&"function"==typeof InputEvent.prototype.getTargetRanges?"beforeinput SelectionChange":"SelectionChange"},F=function(e){function t(t){var n,i,r,o=e.call(this,t)||this;return o.rollbackTimer=void 0,o.valueCursor=void 0,o.rollbackChange=function(){var e=o.editor,t=o.props.value;e&&t&&t!==o.currentContent&&e.undoManager.ignore((function(){if(e.setContent(t),o.valueCursor&&(!o.inline||e.hasFocus()))try{e.selection.moveToBookmark(o.valueCursor)}catch(e){}})),o.rollbackTimer=void 0},o.handleBeforeInput=function(e){if(void 0!==o.props.value&&o.props.value===o.currentContent&&o.editor&&(!o.inline||o.editor.hasFocus))try{o.valueCursor=o.editor.selection.getBookmark(3)}catch(e){}},o.handleBeforeInputSpecial=function(e){"Enter"!==e.key&&"Backspace"!==e.key&&"Delete"!==e.key||o.handleBeforeInput(e)},o.handleEditorChange=function(e){var t=o.editor;if(t&&t.initialized){var n=t.getContent();if(void 0!==o.props.value&&o.props.value!==n&&(o.rollbackTimer||(o.rollbackTimer=window.setTimeout(o.rollbackChange,200))),n!==o.currentContent&&(o.currentContent=n,y(o.props.onEditorChange))){var i=o.props.outputFormat,r="html"===i?n:t.getContent({format:i});o.props.onEditorChange(r,t)}}},o.handleEditorChangeSpecial=function(e){"Backspace"!==e.key&&"Delete"!==e.key||o.handleEditorChange(e)},o.initialise=function(e){var t,n,i;void 0===e&&(e=0);var r=o.elementRef.current;if(r)if(function(e){for(var t=e,n=e.parentNode;null!=n;)n=(t=n).parentNode;return t===e.ownerDocument}(r)){var l=Object(S.a)();if(!l)throw new Error("tinymce should have been loaded into global scope");var a,c,s=T(T({},o.props.init),{selector:void 0,target:r,readonly:o.props.disabled,inline:o.inline,plugins:(a=null===(t=o.props.init)||void 0===t?void 0:t.plugins,c=o.props.plugins,B(a).concat(B(c))),toolbar:null!==(n=o.props.toolbar)&&void 0!==n?n:null===(i=o.props.init)||void 0===i?void 0:i.toolbar,setup:function(e){o.editor=e,o.bindHandlers({}),o.inline&&!k(r)&&e.once("PostRender",(function(t){e.setContent(o.getInitialValue(),{no_events:!0})})),o.props.init&&y(o.props.init.setup)&&o.props.init.setup(e)},init_instance_callback:function(e){var t,n,i=o.getInitialValue();o.currentContent=null!==(t=o.currentContent)&&void 0!==t?t:e.getContent(),o.currentContent!==i&&(o.currentContent=i,e.setContent(i),e.undoManager.clear(),e.undoManager.add(),e.setDirty(!1));var r=null!==(n=o.props.disabled)&&void 0!==n&&n;e.setMode(r?"readonly":"design"),o.props.init&&y(o.props.init.init_instance_callback)&&o.props.init.init_instance_callback(e)}});o.inline||(r.style.visibility=""),k(r)&&(r.value=o.getInitialValue()),l.init(s)}else if(0===e)setTimeout((function(){return o.initialise(1)}),1);else{if(!(e<11))throw new Error("tinymce can only be initialised when in a document");setTimeout((function(){return o.initialise(e+1)}),100)}},o.id=o.props.id||w("tiny-react"),o.elementRef=b.createRef(),o.inline=null!==(r=null!==(n=o.props.inline)&&void 0!==n?n:null===(i=o.props.init)||void 0===i?void 0:i.inline)&&void 0!==r&&r,o.boundHandlers={},o}return P(t,e),t.prototype.componentDidUpdate=function(e){var t,n,i=this;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(e),this.editor.initialized)){if(this.currentContent=null!==(t=this.currentContent)&&void 0!==t?t:this.editor.getContent(),"string"==typeof this.props.initialValue&&this.props.initialValue!==e.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"==typeof this.props.value&&this.props.value!==this.currentContent){var r=this.editor;r.undoManager.transact((function(){var e;if(!i.inline||r.hasFocus())try{e=r.selection.getBookmark(3)}catch(e){}var t=i.valueCursor;if(r.setContent(i.props.value),!i.inline||r.hasFocus())for(var n=0,o=[e,t];n<o.length;n++){var l=o[n];if(l)try{r.selection.moveToBookmark(l),i.valueCursor=l;break}catch(e){}}}))}if(this.props.disabled!==e.disabled){var o=null!==(n=this.props.disabled)&&void 0!==n&&n;this.editor.setMode(o?"readonly":"design")}}},t.prototype.componentDidMount=function(){var e,t,n,i,r,o;null!==Object(S.a)()?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&x.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),null!==(t=null===(e=this.props.scriptLoading)||void 0===e?void 0:e.async)&&void 0!==t&&t,null!==(i=null===(n=this.props.scriptLoading)||void 0===n?void 0:n.defer)&&void 0!==i&&i,null!==(o=null===(r=this.props.scriptLoading)||void 0===r?void 0:r.delay)&&void 0!==o?o:0,this.initialise)},t.prototype.componentWillUnmount=function(){var e=this,t=this.editor;t&&(t.off(I(),this.handleEditorChange),t.off(N(),this.handleBeforeInput),t.off("keypress",this.handleEditorChangeSpecial),t.off("keydown",this.handleBeforeInputSpecial),t.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(n){t.off(n,e.boundHandlers[n])})),this.boundHandlers={},t.remove(),this.editor=void 0)},t.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},t.prototype.renderInline=function(){var e=this.props.tagName,t=void 0===e?"div":e;return b.createElement(t,{ref:this.elementRef,id:this.id})},t.prototype.renderIframe=function(){return b.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},t.prototype.getScriptSrc=function(){if("string"==typeof this.props.tinymceScriptSrc)return this.props.tinymceScriptSrc;var e=this.props.cloudChannel;return"https://cdn.tiny.cloud/1/"+(this.props.apiKey?this.props.apiKey:"no-api-key")+"/tinymce/"+e+"/tinymce.min.js"},t.prototype.getInitialValue=function(){return"string"==typeof this.props.initialValue?this.props.initialValue:"string"==typeof this.props.value?this.props.value:""},t.prototype.bindHandlers=function(e){var t=this;if(void 0!==this.editor){E(this.editor,e,this.props,this.boundHandlers,(function(e){return t.props[e]}));var n=function(e){return void 0!==e.onEditorChange||void 0!==e.value},i=n(e),r=n(this.props);!i&&r?(this.editor.on(I(),this.handleEditorChange),this.editor.on(N(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):i&&!r&&(this.editor.off(I(),this.handleEditorChange),this.editor.off(N(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},t.propTypes=g,t.defaultProps={cloudChannel:"5"},t}(b.Component),R={checkbox:function({value:e,label:t,setFieldAttributes:n}){return Object(r.createElement)(l.CheckboxControl,{label:t,onChange:n,checked:e})},toggle:function({value:e,label:t,setFieldAttributes:n}){return Object(r.createElement)(l.ToggleControl,{label:t,onChange:n,checked:e})},text:function({value:e,label:t,setFieldAttributes:n}){return Object(r.createElement)(l.TextControl,{label:t,value:e,onChange:n})},email:function({value:e,label:t,setFieldAttributes:n}){const[i,o]=Object(r.useState)(!0);return Object(r.createElement)(l.TextControl,{type:"email",className:i?"":"components-base-control--error",label:t,value:e,onChange:n,onFocus:e=>{e.target.reportValidity()},onBlur:e=>{const t=e.target.checkValidity();o(t)}})},textarea:function({value:e,label:t,setFieldAttributes:n}){return Object(r.createElement)(l.TextareaControl,{label:t,value:e,onChange:n})},number:function({value:e,label:t,setFieldAttributes:n}){return Object(r.createElement)(l.TextControl,{type:"number",label:t,value:e,onChange:n})},range:function({value:e,field:t,label:n,setFieldAttributes:i}){return Object(r.createElement)(l.RangeControl,{label:n,value:e,onChange:i,step:t.step,min:t.min,max:t.max})},select:function({value:e,field:t,label:n,setFieldAttributes:i}){return Object(r.createElement)(l.SelectControl,{label:n,value:e,onChange:i,options:t.options})},image:function({label:e,value:t,setFieldAttributes:n,removeFieldAttributes:i}){return Object(r.createElement)(u,{onSelect:n,onRemove:i,value:t,label:e})},richText:function({value:e,label:t,setFieldAttributes:n}){return Object(r.createElement)(l.BaseControl,null,Object(r.createElement)("label",{className:"fbl_url-input__label"},t),Object(r.createElement)(o.RichText,{className:"fbl_rich-text",value:e,onChange:n,placeholder:Object(s.__)("Add text…"),inlineToolbar:!0}))},url:function({value:e,label:t,setFieldAttributes:n}){return Object(r.createElement)(l.BaseControl,{className:"fbl_url-input"},Object(r.createElement)("label",{className:"fbl_url-input__label"},t),Object(r.createElement)(o.URLInputButton,{url:e,onChange:n}),Object(r.createElement)("small",{className:"fbl_url-input__url"},e))},date:function({value:e,label:t,setFieldAttributes:n}){const i=Object(f.withState)({isVisible:!1})(({isVisible:t,setState:n,children:i})=>Object(r.createElement)("div",{style:{position:"relative"}},Object(r.createElement)(l.Button,{isSecondary:!0,onClick:t?null:()=>{n(()=>({isVisible:!0}))}},e?new Date(e).toLocaleString():Object(s.__)("Date")),t&&Object(r.createElement)(l.Popover,{onClose:()=>{n(()=>({isVisible:!1}))},position:"bottom left"},i)));return Object(r.createElement)(l.BaseControl,{className:"fbl_url-input"},Object(r.createElement)(l.BaseControl,{className:"fbl_url-input__label",label:t}),Object(r.createElement)(i,null,Object(r.createElement)("div",{style:{padding:10}},Object(r.createElement)(l.DateTimePicker,{currentDate:e,onChange:n}))))},classicEditor:({value:e,label:t,setFieldAttributes:n})=>Object(r.createElement)(l.BaseControl,null,Object(r.createElement)(l.BaseControl,{label:t}),Object(r.createElement)(F,{onEditorChange:e=>{n(e)},value:e,plugins:"lists",init:{height:300,menubar:!1,branding:!1,toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}}))},A=({children:e,width:t})=>{const n=100*parseFloat(t);return Object(r.createElement)("div",{style:{width:n+"%"}},e)};function M({editProps:e,fieldName:t,field:n,subFieldName:i,subField:o,indexKey:l}){const{attributes:a,setAttributes:c}=e,s=e=>{const n=a[t].slice(0,l),r=a[t].slice(l+1);c({[t]:[...n,{...a[t][l],[i]:e},...r]})},u=R[o.input];return Object(r.createElement)(u,{setFieldAttributes:s,removeFieldAttributes:()=>{s(void 0)},field:o,label:o.label,value:a[t][l][i]})}function D({field:e,setAttributes:t,fieldName:n,attributes:i,editProps:o}){const a=e=>e===i[n].length-1,c=e=>0===e;return Object(r.createElement)(l.BaseControl,{className:"fbl_repeater-inputs"},Object(r.createElement)(l.BaseControl,{label:e.label}),Object(r.createElement)(l.Panel,null,i[n].map((u,d)=>Object(r.createElement)(l.PanelBody,{key:u.fastBlockId?`${n}_${u.fastBlockId}`:`${n}_${d}`,title:e.single?`${e.single} ${d+1}`:`Repeater ${Object(s.__)("Item")} ${d+1}`,initialOpen:!1,buttonProps:{style:{padding:"16px"}}},Object(r.createElement)(l.PanelRow,null,Object(r.createElement)(l.ButtonGroup,null,Object(r.createElement)(l.Button,{onClick:()=>{(e=>{if(c(e))return;const r=[...i[n]],o=r[e];r[e]=r[e-1],r[e-1]=o,t({[n]:r})})(d)},isSmall:!0,isSecondary:!0,disabled:c(d)},Object(s.__)("Move up")),Object(r.createElement)(l.Button,{onClick:()=>{(e=>{if(a(e))return;const r=[...i[n]],o=r[e];r[e]=r[e+1],r[e+1]=o,t({[n]:r})})(d)},isSmall:!0,isSecondary:!0,disabled:a(d)},Object(s.__)("Move down")),Object(r.createElement)(l.Button,{onClick:()=>{(e=>{const r=[...i[n]];r.splice(e,1),t({[n]:r})})(d)},isSmall:!0,isDestructive:!0},Object(s.__)("Remove item")))),Object.entries(u).map(([t])=>{if(e.query[t]){const i={editProps:o,fieldName:n,field:e,subFieldName:t,subField:e.query[t],indexKey:d};return Object(r.createElement)(M,i)}})))),(!e.limit||e.limit>i[n].length)&&Object(r.createElement)(l.Button,{onClick:()=>{const r={};Object.entries(e.query).forEach(([e,t])=>{r[e]=t.default}),r.fastBlockId=(new Date).valueOf(),console.log(r),t({[n]:[...i[n],r]})},style:{width:"100%",justifyContent:"center"},isSecondary:!0},"+"))}function L({editProps:e,fieldName:t,field:n}){const{attributes:i,setAttributes:a}=e,c=e=>{a({[t]:e})},s=()=>{c(void 0)};if("repeater"===n.input){const o={field:n,setAttributes:a,fieldName:t,attributes:i,editProps:e};return Object(r.createElement)(D,o)}return Object(r.createElement)(r.Fragment,null,(()=>{const e=R[n.input],a=()=>Object(r.createElement)(e,{setFieldAttributes:c,removeFieldAttributes:s,field:n,label:n.label,value:i[t]});if(void 0===e)return n.input&&console.error(n.input+" Input does not exist inside field "+t),null;const u=n.width||1;return"inspector"===n.location?Object(r.createElement)(o.InspectorControls,null,Object(r.createElement)(l.PanelBody,null,a())):Object(r.createElement)(A,{width:u},a())})())}var V=n(7),H=Object(r.createElement)(V.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(V.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"}));function U({title:e,fields:t,editProps:n,isSelected:i}){const[o,a]=Object(r.useState)(!1),c=()=>{a(()=>!1)},s=i?" is-selected":"";return Object(r.createElement)("div",{className:"fbl_edit-btn-overlay"+s},Object.entries(t).filter(([e,t])=>"inspector"===t.location).map(([e,t])=>{const i={editProps:n,fieldName:e,field:t};return Object(r.createElement)(L,i)}),Object(r.createElement)(l.Button,{isPrimary:!0,icon:H,onClick:()=>{a(()=>!0)}}),o&&Object(r.createElement)(l.Modal,{title:"Block: "+e,onRequestClose:c,style:{width:600},shouldCloseOnClickOutside:!1},Object.entries(t).filter(([e,t])=>"inspector"!==t.location).map(([e,t])=>{const i={editProps:n,fieldName:e,field:t};return Object(r.createElement)(L,i)}),Object(r.createElement)("div",{style:{textAlign:"right",marginTop:"2rem"}},Object(r.createElement)(l.Button,{isPrimary:!0,onClick:c},"Okay"))))}var z=n(11);const K=({children:e,fields:t})=>({attributes:n})=>e?Object(r.createElement)(o.InnerBlocks.Content,null):Object(r.createElement)("div",null,Object.entries(t).map(([e,t])=>{switch(t.input){case"text":case"textarea":if("string"==typeof t.selector){const i=t.selector;return Object(r.createElement)(i,null,n[e])}return Object(r.createElement)("p",null,n[e]);case"image":return Object(r.createElement)("img",{src:"object"==typeof n[e]&&n[e].url,alt:"object"==typeof n[e]&&n[e].alt});case"richText":return Object(r.createElement)(o.RichText.Content,{tagName:"p",value:n[e]});default:return null}})),$=({attributes:e,children:t,fields:n,settings:i})=>[{attributes:e,...i,save:K({children:t,fields:n}),apiVersion:1}];Object.values(fastBlockBlocks).forEach(e=>{!function(e){const{name:t,settings:n,children:a}=e,s=e.fields||[],u={};for(const[e,t]of Object.entries(s)){const n={};n.type=t.type,n.default=t.default,u[e]=n}const d={apiVersion:2,edit:function({settings:e,name:t,children:n,fields:i,editWidth:a,editView:s,childrenLimit:u,preview:d}){return p=>{const{attributes:f,isSelected:b,clientId:m}=p,[h,v]=Object(r.useState)(0),g=Object(o.useBlockProps)({style:{flexBasis:100*a+"%"}}),y=e&&e.title?e.title:t,O="popover"===s||"inspector"===s,j=Object(z.useSelect)(e=>e("core/block-editor").getBlock(m).innerBlocks).length,E=(!u||j<u)&&o.InnerBlocks.ButtonBlockAppender;function C(e){return Object.entries(i).map(([t,n])=>{const i={editProps:e,fieldName:t,field:n};return Object(r.createElement)(L,i)})}return Object(r.createElement)("div",g,Object(r.createElement)("div",{className:"fbl_editor-block",style:{minHeight:h},onMouseDown:e=>{if(b)return;e.currentTarget.style.minHeight=null;const t=e.currentTarget.offsetHeight;e.currentTarget.style.minHeight=t+"px",v(t)},onBlur:()=>{v(0)}},b&&!O||n||!1===d?Object(r.createElement)(l.Card,{className:"fbl_card",size:"small"},Object(r.createElement)(l.CardHeader,{className:"fbl_block-title"},"Block: ",y),Object(r.createElement)(l.CardBody,{style:{padding:"16px 14px"}},C(p),n&&Object(r.createElement)("div",{style:{border:"1px dashed #ddd",padding:0,borderRadius:2}},Object(r.createElement)(o.InnerBlocks,{allowedBlocks:n,orientation:"horizontal",renderAppender:E})))):Object(r.createElement)("div",{style:{border:"1px dashed #ddd",padding:0,minHeight:50}},"popover"===s&&Object(r.createElement)(U,{title:y,fields:i,editProps:p,isSelected:b}),Object(r.createElement)(c.a,{block:t,attributes:{...f},httpMethod:"POST"}),b&&"inspector"===s&&Object(r.createElement)(o.InspectorControls,null,Object(r.createElement)(l.PanelBody,null,C(p))))))}}({fields:s,...e}),save:function({children:e,fields:t}){return({attributes:n,className:i})=>{const l=o.useBlockProps.save({className:i});return e?Object(r.createElement)(o.InnerBlocks.Content,null):Object(r.createElement)("div",l,Object.entries(t).map(([e,t])=>{switch(t.input){case"text":case"textarea":if("string"==typeof t.selector){const i=t.selector;return Object(r.createElement)(i,null,n[e])}return Object(r.createElement)("p",null,n[e]);case"image":return Object(r.createElement)("img",{src:"object"==typeof n[e]&&n[e].url,alt:"object"==typeof n[e]&&n[e].alt});case"richText":case"classicEditor":return Object(r.createElement)(o.RichText.Content,{value:n[e]});default:return null}}))}}({children:a,fields:s}),title:t,...n,attributes:u,deprecated:$({attributes:u,children:a,fields:s,settings:n})};Object(i.registerBlockType)(t,d)}(e)})}]);
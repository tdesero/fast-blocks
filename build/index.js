!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t){e.exports=window.wp.element},function(e,t,n){e.exports=n(12)()},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.React},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var o=function(){return"undefined"!=typeof window?window:e},i=function(){var e=o();return e&&e.tinymce?e.tinymce:null}}).call(this,n(14))},function(e,t){e.exports=window.wp.primitives},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.wp.serverSideRender},function(e,t){e.exports=window.wp.compose},function(e,t){e.exports=window.wp.data},function(e,t,n){"use strict";var o=n(13);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,l){if(l!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var o=n(8),i=n(0),r=n(3),l=n(2),a=n(9),c=n.n(a),s=n(4);const u=({label:e,onSelect:t,onRemove:n,value:o})=>Object(i.createElement)(r.MediaUploadCheck,null,Object(i.createElement)(r.MediaUpload,{onSelect:e=>{console.log(e),t({id:e.id,sizes:e.sizes,url:e.url,alt:e.alt,title:e.title,description:e.description,caption:e.caption})},allowedTypes:["image"],value:o,render:({open:t})=>Object(i.createElement)(l.BaseControl,null,Object(i.createElement)(l.BaseControl,{label:e}),o&&o.url?Object(i.createElement)(i.Fragment,null,Object(i.createElement)("img",{onClick:t,src:o.url,style:{width:"150px",height:"150px",objectFit:"cover",marginRight:"10px",background:"white"}}),Object(i.createElement)(l.Button,{onClick:n,isSecondary:!0},Object(s.__)("Remove image"))):Object(i.createElement)(l.Button,{onClick:t,isPrimary:!0},Object(s.__)("Open Media Library")))}));var d,p,f=n(10),b=n(5),h=n(1),m=function(){return(m=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},v={onActivate:h.func,onAddUndo:h.func,onBeforeAddUndo:h.func,onBeforeExecCommand:h.func,onBeforeGetContent:h.func,onBeforeRenderUI:h.func,onBeforeSetContent:h.func,onBeforePaste:h.func,onBlur:h.func,onChange:h.func,onClearUndos:h.func,onClick:h.func,onContextMenu:h.func,onCopy:h.func,onCut:h.func,onDblclick:h.func,onDeactivate:h.func,onDirty:h.func,onDrag:h.func,onDragDrop:h.func,onDragEnd:h.func,onDragGesture:h.func,onDragOver:h.func,onDrop:h.func,onExecCommand:h.func,onFocus:h.func,onFocusIn:h.func,onFocusOut:h.func,onGetContent:h.func,onHide:h.func,onInit:h.func,onKeyDown:h.func,onKeyPress:h.func,onKeyUp:h.func,onLoadContent:h.func,onMouseDown:h.func,onMouseEnter:h.func,onMouseLeave:h.func,onMouseMove:h.func,onMouseOut:h.func,onMouseOver:h.func,onMouseUp:h.func,onNodeChange:h.func,onObjectResizeStart:h.func,onObjectResized:h.func,onObjectSelected:h.func,onPaste:h.func,onPostProcess:h.func,onPostRender:h.func,onPreProcess:h.func,onProgressState:h.func,onRedo:h.func,onRemove:h.func,onReset:h.func,onSaveContent:h.func,onSelectionChange:h.func,onSetAttrib:h.func,onSetContent:h.func,onShow:h.func,onSubmit:h.func,onUndo:h.func,onVisualAid:h.func},g=m({apiKey:h.string,id:h.string,inline:h.bool,init:h.object,initialValue:h.string,onEditorChange:h.func,outputFormat:h.oneOf(["html","text"]),value:h.string,tagName:h.string,cloudChannel:h.string,plugins:h.oneOfType([h.string,h.array]),toolbar:h.oneOfType([h.string,h.array]),disabled:h.bool,textareaName:h.string,tinymceScriptSrc:h.string,scriptLoading:h.shape({async:h.bool,defer:h.bool,delay:h.number})},v),y=function(e){return"function"==typeof e},O=function(e){return e in v},j=function(e){return e.substr(2)},E=function(e,t,n,o,i){return function(t,n,o,i,r,l,a){var c=Object.keys(r).filter(O),s=Object.keys(l).filter(O),u=c.filter((function(e){return void 0===l[e]})),d=s.filter((function(e){return void 0===r[e]}));u.forEach((function(e){var t=j(e),n=a[t];o(t,n),delete a[t]})),d.forEach((function(o){var i=function(t,n){return function(o){var i;return null===(i=t(n))||void 0===i?void 0:i(o,e)}}(t,o),r=j(o);a[r]=i,n(r,i)}))}(i,e.on.bind(e),e.off.bind(e),0,t,n,o)},C=0,w=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++C+String(t)},k=function(e){return null!==e&&("textarea"===e.tagName.toLowerCase()||"input"===e.tagName.toLowerCase())},B=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},_=function(){return{listeners:[],scriptId:w("tiny-script"),scriptLoading:!1,scriptLoaded:!1}},x=(d=_(),{load:function(e,t,n,o,i,r){var l=function(){return function(e,t,n,o,i,r){var l=t.createElement("script");l.referrerPolicy="origin",l.type="application/javascript",l.id=e,l.src=n,l.async=o,l.defer=i;var a=function(){l.removeEventListener("load",a),d.listeners.forEach((function(e){return e()})),d.scriptLoaded=!0};l.addEventListener("load",a),t.head&&t.head.appendChild(l)}(d.scriptId,e,t,n,o)};d.scriptLoaded?r():(d.listeners.push(r),d.scriptLoading||(d.scriptLoading=!0,i>0?setTimeout(l,i):l()))},reinitialize:function(){d=_()}}),S=n(6),P=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),T=function(){return(T=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},I=function(){var e,t,n;return(null===(n=null===(t=null===(e=Object(S.a)())||void 0===e?void 0:e.Env)||void 0===t?void 0:t.browser)||void 0===n?void 0:n.isIE())?"change keyup compositionend setcontent":"change input compositionend setcontent"},F=function(){return window.InputEvent&&"function"==typeof InputEvent.prototype.getTargetRanges?"beforeinput SelectionChange":"SelectionChange"},N=function(e){function t(t){var n,o,i,r=e.call(this,t)||this;return r.rollbackTimer=void 0,r.valueCursor=void 0,r.rollbackChange=function(){var e=r.editor,t=r.props.value;e&&t&&t!==r.currentContent&&e.undoManager.ignore((function(){if(e.setContent(t),r.valueCursor&&(!r.inline||e.hasFocus()))try{e.selection.moveToBookmark(r.valueCursor)}catch(e){}})),r.rollbackTimer=void 0},r.handleBeforeInput=function(e){if(void 0!==r.props.value&&r.props.value===r.currentContent&&r.editor&&(!r.inline||r.editor.hasFocus))try{r.valueCursor=r.editor.selection.getBookmark(3)}catch(e){}},r.handleBeforeInputSpecial=function(e){"Enter"!==e.key&&"Backspace"!==e.key&&"Delete"!==e.key||r.handleBeforeInput(e)},r.handleEditorChange=function(e){var t=r.editor;if(t&&t.initialized){var n=t.getContent();if(void 0!==r.props.value&&r.props.value!==n&&(r.rollbackTimer||(r.rollbackTimer=window.setTimeout(r.rollbackChange,200))),n!==r.currentContent&&(r.currentContent=n,y(r.props.onEditorChange))){var o=r.props.outputFormat,i="html"===o?n:t.getContent({format:o});r.props.onEditorChange(i,t)}}},r.handleEditorChangeSpecial=function(e){"Backspace"!==e.key&&"Delete"!==e.key||r.handleEditorChange(e)},r.initialise=function(e){var t,n,o;void 0===e&&(e=0);var i=r.elementRef.current;if(i)if(function(e){for(var t=e,n=e.parentNode;null!=n;)n=(t=n).parentNode;return t===e.ownerDocument}(i)){var l=Object(S.a)();if(!l)throw new Error("tinymce should have been loaded into global scope");var a,c,s=T(T({},r.props.init),{selector:void 0,target:i,readonly:r.props.disabled,inline:r.inline,plugins:(a=null===(t=r.props.init)||void 0===t?void 0:t.plugins,c=r.props.plugins,B(a).concat(B(c))),toolbar:null!==(n=r.props.toolbar)&&void 0!==n?n:null===(o=r.props.init)||void 0===o?void 0:o.toolbar,setup:function(e){r.editor=e,r.bindHandlers({}),r.inline&&!k(i)&&e.once("PostRender",(function(t){e.setContent(r.getInitialValue(),{no_events:!0})})),r.props.init&&y(r.props.init.setup)&&r.props.init.setup(e)},init_instance_callback:function(e){var t,n,o=r.getInitialValue();r.currentContent=null!==(t=r.currentContent)&&void 0!==t?t:e.getContent(),r.currentContent!==o&&(r.currentContent=o,e.setContent(o),e.undoManager.clear(),e.undoManager.add(),e.setDirty(!1));var i=null!==(n=r.props.disabled)&&void 0!==n&&n;e.setMode(i?"readonly":"design"),r.props.init&&y(r.props.init.init_instance_callback)&&r.props.init.init_instance_callback(e)}});r.inline||(i.style.visibility=""),k(i)&&(i.value=r.getInitialValue()),l.init(s)}else if(0===e)setTimeout((function(){return r.initialise(1)}),1);else{if(!(e<11))throw new Error("tinymce can only be initialised when in a document");setTimeout((function(){return r.initialise(e+1)}),100)}},r.id=r.props.id||w("tiny-react"),r.elementRef=b.createRef(),r.inline=null!==(i=null!==(n=r.props.inline)&&void 0!==n?n:null===(o=r.props.init)||void 0===o?void 0:o.inline)&&void 0!==i&&i,r.boundHandlers={},r}return P(t,e),t.prototype.componentDidUpdate=function(e){var t,n,o=this;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(e),this.editor.initialized)){if(this.currentContent=null!==(t=this.currentContent)&&void 0!==t?t:this.editor.getContent(),"string"==typeof this.props.initialValue&&this.props.initialValue!==e.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"==typeof this.props.value&&this.props.value!==this.currentContent){var i=this.editor;i.undoManager.transact((function(){var e;if(!o.inline||i.hasFocus())try{e=i.selection.getBookmark(3)}catch(e){}var t=o.valueCursor;if(i.setContent(o.props.value),!o.inline||i.hasFocus())for(var n=0,r=[e,t];n<r.length;n++){var l=r[n];if(l)try{i.selection.moveToBookmark(l),o.valueCursor=l;break}catch(e){}}}))}if(this.props.disabled!==e.disabled){var r=null!==(n=this.props.disabled)&&void 0!==n&&n;this.editor.setMode(r?"readonly":"design")}}},t.prototype.componentDidMount=function(){var e,t,n,o,i,r;null!==Object(S.a)()?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&x.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),null!==(t=null===(e=this.props.scriptLoading)||void 0===e?void 0:e.async)&&void 0!==t&&t,null!==(o=null===(n=this.props.scriptLoading)||void 0===n?void 0:n.defer)&&void 0!==o&&o,null!==(r=null===(i=this.props.scriptLoading)||void 0===i?void 0:i.delay)&&void 0!==r?r:0,this.initialise)},t.prototype.componentWillUnmount=function(){var e=this,t=this.editor;t&&(t.off(I(),this.handleEditorChange),t.off(F(),this.handleBeforeInput),t.off("keypress",this.handleEditorChangeSpecial),t.off("keydown",this.handleBeforeInputSpecial),t.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(n){t.off(n,e.boundHandlers[n])})),this.boundHandlers={},t.remove(),this.editor=void 0)},t.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},t.prototype.renderInline=function(){var e=this.props.tagName,t=void 0===e?"div":e;return b.createElement(t,{ref:this.elementRef,id:this.id})},t.prototype.renderIframe=function(){return b.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},t.prototype.getScriptSrc=function(){if("string"==typeof this.props.tinymceScriptSrc)return this.props.tinymceScriptSrc;var e=this.props.cloudChannel;return"https://cdn.tiny.cloud/1/"+(this.props.apiKey?this.props.apiKey:"no-api-key")+"/tinymce/"+e+"/tinymce.min.js"},t.prototype.getInitialValue=function(){return"string"==typeof this.props.initialValue?this.props.initialValue:"string"==typeof this.props.value?this.props.value:""},t.prototype.bindHandlers=function(e){var t=this;if(void 0!==this.editor){E(this.editor,e,this.props,this.boundHandlers,(function(e){return t.props[e]}));var n=function(e){return void 0!==e.onEditorChange||void 0!==e.value},o=n(e),i=n(this.props);!o&&i?(this.editor.on(I(),this.handleEditorChange),this.editor.on(F(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):o&&!i&&(this.editor.off(I(),this.handleEditorChange),this.editor.off(F(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},t.propTypes=g,t.defaultProps={cloudChannel:"5"},t}(b.Component),R={checkbox:function({value:e,label:t,setFieldAttributes:n}){return Object(i.createElement)(l.CheckboxControl,{label:t,onChange:n,checked:e})},toggle:function({value:e,label:t,setFieldAttributes:n}){return Object(i.createElement)(l.ToggleControl,{label:t,onChange:n,checked:e})},text:function({value:e,label:t,setFieldAttributes:n}){return Object(i.createElement)(l.TextControl,{label:t,value:e,onChange:n})},email:function({value:e,label:t,setFieldAttributes:n}){const[o,r]=Object(i.useState)(!0);return Object(i.createElement)(l.TextControl,{type:"email",className:o?"":"components-base-control--error",label:t,value:e,onChange:n,onFocus:e=>{e.target.reportValidity()},onBlur:e=>{const t=e.target.checkValidity();r(t)}})},textarea:function({value:e,label:t,setFieldAttributes:n}){return Object(i.createElement)(l.TextareaControl,{label:t,value:e,onChange:n})},number:function({value:e,label:t,setFieldAttributes:n}){return Object(i.createElement)(l.TextControl,{type:"number",label:t,value:e,onChange:n})},range:function({value:e,field:t,label:n,setFieldAttributes:o}){return Object(i.createElement)(l.RangeControl,{label:n,value:e,onChange:o,step:t.step,min:t.min,max:t.max})},select:function({value:e,field:t,label:n,setFieldAttributes:o}){return Object(i.createElement)(l.SelectControl,{label:n,value:e,onChange:o,options:t.options})},image:function({label:e,value:t,setFieldAttributes:n,removeFieldAttributes:o}){return Object(i.createElement)(u,{onSelect:n,onRemove:o,value:t,label:e})},richText:function({value:e,label:t,setFieldAttributes:n}){return Object(i.createElement)(l.BaseControl,null,Object(i.createElement)("label",{className:"fbl_url-input__label"},t),Object(i.createElement)(r.RichText,{className:"fbl_rich-text",value:e,onChange:n,placeholder:Object(s.__)("Add text…"),inlineToolbar:!0}))},url:function({value:e,label:t,setFieldAttributes:n}){return Object(i.createElement)(l.BaseControl,{className:"fbl_url-input"},Object(i.createElement)("label",{className:"fbl_url-input__label"},t),Object(i.createElement)(r.URLInputButton,{url:e,onChange:n}),Object(i.createElement)("small",{className:"fbl_url-input__url"},e))},date:function({value:e,label:t,setFieldAttributes:n}){const o=Object(f.withState)({isVisible:!1})(({isVisible:t,setState:n,children:o})=>Object(i.createElement)("div",{style:{position:"relative"}},Object(i.createElement)(l.Button,{isSecondary:!0,onClick:t?null:()=>{n(()=>({isVisible:!0}))}},e?new Date(e).toLocaleString():Object(s.__)("Date")),t&&Object(i.createElement)(l.Popover,{onClose:()=>{n(()=>({isVisible:!1}))},position:"bottom left"},o)));return Object(i.createElement)(l.BaseControl,{className:"fbl_url-input"},Object(i.createElement)(l.BaseControl,{className:"fbl_url-input__label",label:t}),Object(i.createElement)(o,null,Object(i.createElement)("div",{style:{padding:10}},Object(i.createElement)(l.DateTimePicker,{currentDate:e,onChange:n}))))},classicEditor:({value:e,label:t,setFieldAttributes:n})=>Object(i.createElement)(l.BaseControl,null,Object(i.createElement)(l.BaseControl,{label:t}),Object(i.createElement)(N,{onEditorChange:e=>{n(e)},value:e,plugins:"lists",init:{height:300,menubar:!1,branding:!1,toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}}))},A=({children:e,width:t})=>{const n=100*parseFloat(t);return Object(i.createElement)("div",{style:{width:n+"%"}},e)};function M({editProps:e,fieldName:t,field:n,subFieldName:o,subField:r,indexKey:l}){const{attributes:a,setAttributes:c}=e,s=e=>{const n=a[t].slice(0,l),i=a[t].slice(l+1);c({[t]:[...n,{...a[t][l],[o]:e},...i]})},u=R[r.input];return Object(i.createElement)(u,{setFieldAttributes:s,removeFieldAttributes:()=>{s(void 0)},field:r,label:r.label,value:a[t][l][o]})}function D({field:e,setAttributes:t,fieldName:n,attributes:o,editProps:r}){const a=e=>e===o[n].length-1,c=e=>0===e;return Object(i.createElement)(l.BaseControl,{className:"fbl_repeater-inputs"},Object(i.createElement)(l.BaseControl,{label:e.label}),Object(i.createElement)(l.Panel,null,o[n].map((u,d)=>Object(i.createElement)(l.PanelBody,{key:u.fastBlockId?`${n}_${u.fastBlockId}`:`${n}_${d}`,title:e.single?`${e.single} ${d+1}`:`Repeater ${Object(s.__)("Item")} ${d+1}`,initialOpen:!1,buttonProps:{style:{padding:"16px"}}},Object(i.createElement)(l.PanelRow,null,Object(i.createElement)(l.ButtonGroup,null,Object(i.createElement)(l.Button,{onClick:()=>{(e=>{if(c(e))return;const i=[...o[n]],r=i[e];i[e]=i[e-1],i[e-1]=r,t({[n]:i})})(d)},isSmall:!0,isSecondary:!0,disabled:c(d)},Object(s.__)("Move up")),Object(i.createElement)(l.Button,{onClick:()=>{(e=>{if(a(e))return;const i=[...o[n]],r=i[e];i[e]=i[e+1],i[e+1]=r,t({[n]:i})})(d)},isSmall:!0,isSecondary:!0,disabled:a(d)},Object(s.__)("Move down")),Object(i.createElement)(l.Button,{onClick:()=>{(e=>{const i=[...o[n]];i.splice(e,1),t({[n]:i})})(d)},isSmall:!0,isDestructive:!0},Object(s.__)("Remove item")))),Object.entries(u).map(([t])=>{if(e.query[t]){const o={editProps:r,fieldName:n,field:e,subFieldName:t,subField:e.query[t],indexKey:d};return Object(i.createElement)(M,o)}})))),(!e.limit||e.limit>o[n].length)&&Object(i.createElement)(l.Button,{onClick:()=>{const i={};Object.entries(e.query).forEach(([e,t])=>{i[e]=t.default}),i.fastBlockId=(new Date).valueOf(),console.log(i),t({[n]:[...o[n],i]})},style:{width:"100%",justifyContent:"center"},isSecondary:!0},"+"))}function L({editProps:e,fieldName:t,field:n}){const{attributes:o,setAttributes:a}=e,c=e=>{a({[t]:e})},s=()=>{c(void 0)};if("repeater"===n.input){const r={field:n,setAttributes:a,fieldName:t,attributes:o,editProps:e};return Object(i.createElement)(D,r)}return Object(i.createElement)(i.Fragment,null,(()=>{const e=R[n.input],a=()=>Object(i.createElement)(e,{setFieldAttributes:c,removeFieldAttributes:s,field:n,label:n.label,value:o[t]});if(void 0===e)return n.input&&console.error(n.input+" Input does not exist inside field "+t),null;const u=n.width||1;return"inspector"===n.location?Object(i.createElement)(r.InspectorControls,null,Object(i.createElement)(l.PanelBody,null,a())):Object(i.createElement)(A,{width:u},a())})())}var V=n(7),H=Object(i.createElement)(V.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(i.createElement)(V.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"}));function U({title:e,fields:t,editProps:n,isSelected:o}){const[r,a]=Object(i.useState)(!1),c=()=>{a(()=>!1)},s=o?" is-selected":"";return Object(i.createElement)("div",{className:"fbl_edit-btn-overlay"+s},Object(i.createElement)(l.Button,{isPrimary:!0,icon:H,onClick:()=>{a(()=>!0)}}),r&&Object(i.createElement)(l.Modal,{title:"Block: "+e,onRequestClose:c,style:{width:600},shouldCloseOnClickOutside:!1},Object.entries(t).map(([e,t])=>{const o={editProps:n,fieldName:e,field:t};return Object(i.createElement)(L,o)}),Object(i.createElement)(l.Button,{isPrimary:!0,onClick:c},"Okay")))}var z=n(11);const K=({children:e,fields:t})=>({attributes:n})=>e?Object(i.createElement)(r.InnerBlocks.Content,null):Object(i.createElement)("div",null,Object.entries(t).map(([e,t])=>{switch(t.input){case"text":case"textarea":if("string"==typeof t.selector){const o=t.selector;return Object(i.createElement)(o,null,n[e])}return Object(i.createElement)("p",null,n[e]);case"image":return Object(i.createElement)("img",{src:"object"==typeof n[e]&&n[e].url,alt:"object"==typeof n[e]&&n[e].alt});case"richText":return Object(i.createElement)(r.RichText.Content,{tagName:"p",value:n[e]});default:return null}})),$=({attributes:e,children:t,fields:n,settings:o})=>[{attributes:e,...o,save:K({children:t,fields:n}),apiVersion:1}];Object.values(fastBlockBlocks).forEach(e=>{!function(e){const{name:t,settings:n,children:a}=e,s=e.fields||[],u={};for(const[e,t]of Object.entries(s)){const n={};n.type=t.type,n.default=t.default,u[e]=n}const d={apiVersion:2,edit:function({settings:e,name:t,children:n,fields:o,editWidth:a,editView:s,childrenLimit:u,preview:d}){return p=>{const{attributes:f,isSelected:b,clientId:h}=p,[m,v]=Object(i.useState)(0),g=Object(r.useBlockProps)({style:{flexBasis:100*a+"%"}}),y=e&&e.title?e.title:t,O="popover"===s||"inspector"===s,j=Object(z.useSelect)(e=>e("core/block-editor").getBlock(h).innerBlocks).length,E=(!u||j<u)&&r.InnerBlocks.ButtonBlockAppender;function C(e){return Object.entries(o).map(([t,n])=>{const o={editProps:e,fieldName:t,field:n};return Object(i.createElement)(L,o)})}return Object(i.createElement)("div",g,Object(i.createElement)("div",{className:"fbl_editor-block",style:{minHeight:m},onMouseDown:e=>{if(b)return;e.currentTarget.style.minHeight=null;const t=e.currentTarget.offsetHeight;e.currentTarget.style.minHeight=t+"px",v(t)},onBlur:()=>{v(0)}},b&&!O||n||!1===d?Object(i.createElement)(l.Card,{className:"fbl_card",size:"small"},Object(i.createElement)(l.CardHeader,{className:"fbl_block-title"},"Block: ",y),Object(i.createElement)(l.CardBody,{style:{padding:"16px 14px"}},C(p),n&&Object(i.createElement)("div",{style:{border:"1px dashed #ddd",padding:0,borderRadius:2}},Object(i.createElement)(r.InnerBlocks,{allowedBlocks:n,orientation:"horizontal",renderAppender:E})))):Object(i.createElement)("div",{style:{border:"1px dashed #ddd",padding:0,minHeight:50}},"popover"===s&&Object(i.createElement)(U,{title:y,fields:o,editProps:p,isSelected:b}),Object(i.createElement)(c.a,{block:t,attributes:{...f},httpMethod:"POST"}),b&&"inspector"===s&&Object(i.createElement)(r.InspectorControls,null,Object(i.createElement)(l.PanelBody,null,C(p))))))}}({fields:s,...e}),save:function({children:e,fields:t}){return({attributes:n,className:o})=>{const l=r.useBlockProps.save({className:o});return e?Object(i.createElement)(r.InnerBlocks.Content,null):Object(i.createElement)("div",l,Object.entries(t).map(([e,t])=>{switch(t.input){case"text":case"textarea":if("string"==typeof t.selector){const o=t.selector;return Object(i.createElement)(o,null,n[e])}return Object(i.createElement)("p",null,n[e]);case"image":return Object(i.createElement)("img",{src:"object"==typeof n[e]&&n[e].url,alt:"object"==typeof n[e]&&n[e].alt});case"richText":case"classicEditor":return Object(i.createElement)(r.RichText.Content,{value:n[e]});default:return null}}))}}({children:a,fields:s}),title:t,...n,attributes:u,deprecated:$({attributes:u,children:a,fields:s,settings:n})};Object(o.registerBlockType)(t,d)}(e)})}]);